/*!
 * Bootstrap-select v1.7.2 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2015 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
;!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(b){return c(b)}):"object"==typeof exports?module.exports=c(require("jquery")):c(jQuery)}(this,function(){!function(h){function g(a){var d=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return h.each(d,function(){a=a.replace(this.re,this.ch)}),a}function l(n){var m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r="(?:"+Object.keys(m).join("|")+")",q=new RegExp(r),p=new RegExp(r,"g"),o=null==n?"":""+n;return q.test(o)?o.replace(p,function(b){return m[b]}):o}function k(a,q){var p=arguments,o=a,n=q;[].shift.apply(p);var m,e=this.each(function(){var d=h(this);if(d.is("select")){var t=d.data("selectpicker"),s="object"==typeof o&&o;if(t){if(s){for(var r in s){s.hasOwnProperty(r)&&(t.options[r]=s[r])}}}else{var f=h.extend({},j.DEFAULTS,h.fn.selectpicker.defaults||{},d.data(),s);d.data("selectpicker",t=new j(this,f,n))}"string"==typeof o&&(m=t[o] instanceof Function?t[o].apply(t,p):t.options[o])}});return"undefined"!=typeof m?m:e}String.prototype.includes||!function(){var f={}.toString,e=function(){try{var p={},o=Object.defineProperty,r=o(p,p,p)&&o}catch(q){}return r}(),n="".indexOf,m=function(a){if(null==this){throw TypeError()}var t=String(this);if(a&&"[object RegExp]"==f.call(a)){throw TypeError()}var s=t.length,r=String(a),q=r.length,p=arguments.length>1?arguments[1]:void 0,o=p?Number(p):0;o!=o&&(o=0);var c=Math.min(Math.max(o,0),s);return q+c>s?!1:-1!=n.call(t,r,o)};e?e(String.prototype,"includes",{value:m,configurable:!0,writable:!0}):String.prototype.includes=m}(),String.prototype.startsWith||!function(){var e=function(){try{var n={},m=Object.defineProperty,p=m(n,n,n)&&m}catch(o){}return p}(),d={}.toString,f=function(t){if(null==this){throw TypeError()}var s=String(this);if(t&&"[object RegExp]"==d.call(t)){throw TypeError()}var r=s.length,q=String(t),p=q.length,o=arguments.length>1?arguments[1]:void 0,n=o?Number(o):0;n!=n&&(n=0);var m=Math.min(Math.max(n,0),r);if(p+m>r){return !1}for(var b=-1;++b<p;){if(s.charCodeAt(m+b)!=q.charCodeAt(b)){return !1}}return !0};e?e(String.prototype,"startsWith",{value:f,configurable:!0,writable:!0}):String.prototype.startsWith=f}(),Object.keys||(Object.keys=function(e,d,f){f=[];for(d in e){f.hasOwnProperty.call(e,d)&&f.push(d)}return f}),h.expr[":"].icontains=function(a,p,o){var n=h(a),m=(n.data("tokens")||n.text()).toUpperCase();return m.includes(o[3].toUpperCase())},h.expr[":"].ibegins=function(a,p,o){var n=h(a),m=(n.data("tokens")||n.text()).toUpperCase();return m.startsWith(o[3].toUpperCase())},h.expr[":"].aicontains=function(a,p,o){var n=h(a),m=(n.data("tokens")||n.data("normalizedText")||n.text()).toUpperCase();return m.includes(o[3].toUpperCase())},h.expr[":"].aibegins=function(a,p,o){var n=h(a),m=(n.data("tokens")||n.data("normalizedText")||n.text()).toUpperCase();return m.startsWith(o[3].toUpperCase())};var j=function(a,f,e){e&&(e.stopPropagation(),e.preventDefault()),this.$element=h(a),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=f,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=j.prototype.val,this.render=j.prototype.render,this.refresh=j.prototype.refresh,this.setStyle=j.prototype.setStyle,this.selectAll=j.prototype.selectAll,this.deselectAll=j.prototype.deselectAll,this.destroy=j.prototype.remove,this.remove=j.prototype.remove,this.show=j.prototype.show,this.hide=j.prototype.hide,this.init()};j.VERSION="1.7.2",j.DEFAULTS={noneSelectedText:"全部",noneResultsText:"No results matched {0}",countSelectedText:function(d,c){return 1==d?"{0} item selected":"{0} items selected"},maxOptionsText:function(d,c){return[1==d?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==c?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},j.prototype={constructor:j,init:function(){var a=this,d=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof d&&(this.$button.attr("data-id",d),h('label[for="'+d+'"]').click(function(b){b.preventDefault(),a.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on("hide.bs.dropdown",function(b){a.$element.trigger("hide.bs.select",b)}),this.$newElement.on("hidden.bs.dropdown",function(b){a.$element.trigger("hidden.bs.select",b)}),this.$newElement.on("show.bs.dropdown",function(b){a.$element.trigger("show.bs.select",b)}),this.$newElement.on("shown.bs.dropdown",function(b){a.$element.trigger("shown.bs.select",b)}),setTimeout(function(){a.$element.trigger("loaded.bs.select")})},createDropdown:function(){var a=this.multiple?" show-tick":"",r=this.$element.parent().hasClass("input-group")?" input-group-btn":"",q=this.autofocus?" autofocus":"",p=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+l(this.options.liveSearchPlaceholder)+'"')+"></div>":"",n=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",m=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",c='<div class="btn-group bootstrap-select'+a+r+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+q+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+p+o+n+'<ul class="dropdown-menu inner" role="menu"></ul>'+m+"</div></div>";return h(c)},createView:function(){var d=this.createDropdown(),c=this.createLi();return d.find("ul")[0].innerHTML=c,d},reloadLi:function(){this.destroyLi();var b=this.createLi();this.$menuInner[0].innerHTML=b},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var q=this,p=[],o=0,n=document.createElement("option"),m=-1,c=function(f,e,s,r){return"<li"+("undefined"!=typeof s&""!==s?' class="'+s+'"':"")+("undefined"!=typeof e&null!==e?' data-original-index="'+e+'"':"")+("undefined"!=typeof r&null!==r?'data-optgroup="'+r+'"':"")+">"+f+"</li>"},b=function(d,t,s,r){return'<a tabindex="0"'+("undefined"!=typeof t?' class="'+t+'"':"")+("undefined"!=typeof s?' style="'+s+'"':"")+(q.options.liveSearchNormalize?' data-normalized-text="'+g(l(d))+'"':"")+("undefined"!=typeof r||null!==r?' data-tokens="'+r+'"':"")+">"+d+'<span class="'+q.options.iconBase+" "+q.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(m--,!this.$element.find(".bs-title-option").length)){var a=this.$element[0];n.className="bs-title-option",n.appendChild(document.createTextNode(this.options.title)),n.value="",a.insertBefore(n,a.firstChild),null===a.options[a.selectedIndex].getAttribute("selected")&&(n.selected=!0)}return this.$element.find("option").each(function(B){var A=h(this);if(m++,!A.hasClass("bs-title-option")){var z=this.className||"",y=this.style.cssText,x=A.data("content")?A.data("content"):A.html(),w=A.data("tokens")?A.data("tokens"):null,v="undefined"!=typeof A.data("subtext")?'<small class="text-muted">'+A.data("subtext")+"</small>":"",u="undefined"!=typeof A.data("icon")?'<span class="'+q.options.iconBase+" "+A.data("icon")+'"></span> ':"",f=this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled;if(""!==u&&f&&(u="<span>"+u+"</span>"),q.options.hideDisabled&&f){return void m--}if(A.data("content")||(x=u+'<span class="text">'+x+v+"</span>"),"OPTGROUP"===this.parentElement.tagName&&A.data("divider")!==!0){if(0===A.index()){o+=1;var e=this.parentElement.label,d="undefined"!=typeof A.parent().data("subtext")?'<small class="text-muted">'+A.parent().data("subtext")+"</small>":"",D=A.parent().data("icon")?'<span class="'+q.options.iconBase+" "+A.parent().data("icon")+'"></span> ':"",C=" "+this.parentElement.className||"";e=D+'<span class="text">'+e+d+"</span>",0!==B&&p.length>0&&(m++,p.push(c("",null,"divider",o+"div"))),m++,p.push(c(e,null,"dropdown-header"+C,o))}p.push(c(b(x,"opt "+z+C,y,w),B,"",o))}else{A.data("divider")===!0?p.push(c("",B,"divider")):A.data("hidden")===!0?p.push(c(b(x,z,y,w),B,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(m++,p.push(c("",null,"divider",o+"div"))),p.push(c(b(x,z,y,w),B)))}q.liObj[B]=m}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),p.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(a){var s,r=this;a!==!1&&this.$element.find("option").each(function(d){var c=r.findLis().eq(r.liObj[d]);r.setDisabled(d,this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled,c),r.setSelected(d,this.selected,c)}),this.tabIndex();var q=this.$element.find("option").map(function(){if(this.selected){if(r.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled)){return !1}var d,t=h(this),f=t.data("icon")&&r.options.showIcon?'<i class="'+r.options.iconBase+" "+t.data("icon")+'"></i> ':"";return d=r.options.showSubtext&&t.data("subtext")&&!r.multiple?' <small class="text-muted">'+t.data("subtext")+"</small>":"","undefined"!=typeof t.attr("title")?t.attr("title"):t.data("content")&&r.options.showContent?t.data("content"):f+t.html()+d}}).toArray(),p=this.multiple?q.join(this.options.multipleSeparator):q[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var o=this.options.selectedTextFormat.split(">");if(o.length>1&&q.length>o[1]||1==o.length&&q.length>=2){s=this.options.hideDisabled?", [disabled]":"";var n=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+s).length,m="function"==typeof this.options.countSelectedText?this.options.countSelectedText(q.length,n):this.options.countSelectedText;p=m.replace("{0}",q.length.toString()).replace("{1}",n.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(p=this.options.title),p||(p="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",h.trim(p.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(p),this.$element.trigger("rendered.bs.select")},setStyle:function(e,d){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var f=e?e:this.options.style;"add"==d?this.$button.addClass(f):"remove"==d?this.$button.removeClass(f):(this.$button.removeClass(this.options.style),this.$button.addClass(f))},liHeight:function(T){if(T||this.options.size!==!1&&!this.sizeInfo){var S=document.createElement("div"),R=document.createElement("div"),Q=document.createElement("ul"),P=document.createElement("li"),O=document.createElement("li"),N=document.createElement("a"),M=document.createElement("span"),L=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null,K=this.options.liveSearch?document.createElement("div"):null,J=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,I=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(M.className="text",S.className=this.$menu[0].parentNode.className+" open",R.className="dropdown-menu open",Q.className="dropdown-menu inner",P.className="divider",M.appendChild(document.createTextNode("Inner text")),N.appendChild(M),O.appendChild(N),Q.appendChild(O),Q.appendChild(P),L&&R.appendChild(L),K){var H=document.createElement("span");K.className="bs-searchbox",H.className="form-control",K.appendChild(H),R.appendChild(K)}J&&R.appendChild(J),R.appendChild(Q),I&&R.appendChild(I),S.appendChild(R),document.body.appendChild(S);var G=N.offsetHeight,F=L?L.offsetHeight:0,E=K?K.offsetHeight:0,D=J?J.offsetHeight:0,C=I?I.offsetHeight:0,B=h(P).outerHeight(!0),A=getComputedStyle?getComputedStyle(R):!1,z=A?h(R):null,y=parseInt(A?A.paddingTop:z.css("paddingTop"))+parseInt(A?A.paddingBottom:z.css("paddingBottom"))+parseInt(A?A.borderTopWidth:z.css("borderTopWidth"))+parseInt(A?A.borderBottomWidth:z.css("borderBottomWidth")),a=y+parseInt(A?A.marginTop:z.css("marginTop"))+parseInt(A?A.marginBottom:z.css("marginBottom"))+2;document.body.removeChild(S),this.sizeInfo={liHeight:G,headerHeight:F,searchHeight:E,actionsHeight:D,doneButtonHeight:C,dividerHeight:B,menuPadding:y,menuExtras:a}}},setSize:function(){this.findLis(),this.liHeight();var R,Q,P,O,N=this,M=this.$menu,L=this.$menuInner,K=h(window),J=this.$newElement[0].offsetHeight,I=this.sizeInfo.liHeight,H=this.sizeInfo.headerHeight,G=this.sizeInfo.searchHeight,F=this.sizeInfo.actionsHeight,E=this.sizeInfo.doneButtonHeight,D=this.sizeInfo.dividerHeight,C=this.sizeInfo.menuPadding,B=this.sizeInfo.menuExtras,A=this.options.hideDisabled?".disabled":"",z=function(){P=N.$newElement.offset().top-K.scrollTop(),O=K.height()-P-J};if(z(),this.options.header&&M.css("padding-top",0),"auto"===this.options.size){var y=function(){var d,c=function(m,n){return function(o){return n?o.classList?o.classList.contains(m):h(o).hasClass(m):!(o.classList?o.classList.contains(m):h(o).hasClass(m))}},f=N.$menuInner[0].getElementsByTagName("li"),e=Array.prototype.filter?Array.prototype.filter.call(f,c("hidden",!1)):N.$lis.not(".hidden"),b=Array.prototype.filter?Array.prototype.filter.call(e,c("dropdown-header",!0)):e.filter(".dropdown-header");z(),R=O-B,N.options.container?(M.data("height")||M.data("height",M.height()),Q=M.data("height")):Q=M.height(),N.options.dropupAuto&&N.$newElement.toggleClass("dropup",P>O&&Q>R-B),N.$newElement.hasClass("dropup")&&(R=P-B),d=e.length+b.length>3?3*I+B-2:0,M.css({"max-height":R+"px",overflow:"hidden","min-height":d+H+G+F+E+"px"}),L.css({"max-height":R-H-G-F-E-C+"px","overflow-y":"auto","min-height":Math.max(d-C,0)+"px"})};y(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",y),K.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",y)}else{if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(A).length>this.options.size){var x=this.$lis.not(".divider").not(A).children().slice(0,this.options.size).last().parent().index(),a=this.$lis.slice(0,x+1).filter(".divider").length;R=I*this.options.size+a*D+C,N.options.container?(M.data("height")||M.data("height",M.height()),Q=M.data("height")):Q=M.height(),N.options.dropupAuto&&this.$newElement.toggleClass("dropup",P>O&&Q>R-B),M.css({"max-height":R+H+G+F+E+"px",overflow:"hidden","min-height":""}),L.css({"max-height":R-C+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var f=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):f,n=f.children(".dropdown-menu").outerWidth(),m=e.css("width","auto").children("button").outerWidth();f.remove(),e.remove(),this.$newElement.css("width",Math.max(n,m)+"px")}else{"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""))}this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var a,q,p=this,o="<div />",n=h(o),m=function(b){n.addClass(b.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",b.hasClass("dropup")),a=b.offset(),q=b.hasClass("dropup")?0:b[0].offsetHeight,n.css({top:a.top+q,left:a.left,width:b[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){p.isDisabled()||(m(h(this)),n.appendTo(p.options.container),n.toggleClass("open",!h(this).hasClass("open")),n.append(p.$menu))}),h(window).on("resize scroll",function(){m(p.$newElement)}),this.$element.on("hide.bs.select",function(){p.$menu.data("height",p.$menu.height()),n.detach()})},setSelected:function(e,d,f){if(!f){var f=this.findLis().eq(this.liObj[e])}f.toggleClass("selected",d)},setDisabled:function(e,d,f){if(!f){var f=this.findLis().eq(this.liObj[e])}d?f.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):f.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var b=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return !b.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var a=this,d=h(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(b){b.stopPropagation()}),d.data("spaceSelect",!1),this.$button.on("keyup",function(b){/(32)/.test(b.keyCode.toString(10))&&d.data("spaceSelect")&&(b.preventDefault(),d.data("spaceSelect",!1))}),this.$newElement.on("click",function(){a.setSize(),a.$element.on("shown.bs.select",function(){if(a.options.liveSearch||a.multiple){if(!a.multiple){var b=a.liObj[a.$element[0].selectedIndex];if("number"!=typeof b){return}var e=a.$lis.eq(b)[0].offsetTop-a.$menuInner[0].offsetTop;e=e-a.$menuInner[0].offsetHeight/2+a.sizeInfo.liHeight/2,a.$menuInner[0].scrollTop=e}}else{a.$menu.find(".selected a").focus()}})}),this.$menu.on("click","li a",function(K){var J=h(this),I=J.parent().data("originalIndex"),H=a.$element.val(),G=a.$element.prop("selectedIndex");if(a.multiple&&K.stopPropagation(),K.preventDefault(),!a.isDisabled()&&!J.parent().hasClass("disabled")){var F=a.$element.find("option"),E=F.eq(I),D=E.prop("selected"),C=E.parent("optgroup"),B=a.options.maxOptions,A=C.data("maxOptions")||!1;if(a.multiple){if(E.prop("selected",!D),a.setSelected(I,!D),J.blur(),B!==!1||A!==!1){var z=B<F.filter(":selected").length,y=A<C.find("option:selected").length;if(B&&z||A&&y){if(B&&1==B){F.prop("selected",!1),E.prop("selected",!0),a.$menu.find(".selected").removeClass("selected"),a.setSelected(I,!0)}else{if(A&&1==A){C.find("option:selected").prop("selected",!1),E.prop("selected",!0);var x=J.parent().data("optgroup");a.$menu.find('[data-optgroup="'+x+'"]').removeClass("selected"),a.setSelected(I,!0)}else{var w="function"==typeof a.options.maxOptionsText?a.options.maxOptionsText(B,A):a.options.maxOptionsText,v=w[0].replace("{n}",B),u=w[1].replace("{n}",A),b=h('<div class="notify"></div>');w[2]&&(v=v.replace("{var}",w[2][B>1?0:1]),u=u.replace("{var}",w[2][A>1?0:1])),E.prop("selected",!1),a.$menu.append(b),B&&z&&(b.append(h("<div>"+v+"</div>")),a.$element.trigger("maxReached.bs.select")),A&&y&&(b.append(h("<div>"+u+"</div>")),a.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){a.setSelected(I,!1)},10),b.delay(750).fadeOut(300,function(){h(this).remove()})}}}}}else{F.prop("selected",!1),E.prop("selected",!0),a.$menu.find(".selected").removeClass("selected"),a.setSelected(I,!0)}a.multiple?a.options.liveSearch&&a.$searchbox.focus():a.$button.focus(),(H!=a.$element.val()&&a.multiple||G!=a.$element.prop("selectedIndex")&&!a.multiple)&&(a.$element.change(),a.$element.trigger("changed.bs.select",[I,E.prop("selected"),D]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(b){b.currentTarget==this&&(b.preventDefault(),b.stopPropagation(),a.options.liveSearch&&!h(b.target).hasClass("close")?a.$searchbox.focus():a.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(b){b.preventDefault(),b.stopPropagation(),a.options.liveSearch?a.$searchbox.focus():a.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){a.$button.click()}),this.$searchbox.on("click",function(b){b.stopPropagation()}),this.$menu.on("click",".actions-btn",function(b){a.options.liveSearch?a.$searchbox.focus():a.$button.focus(),b.preventDefault(),b.stopPropagation(),h(this).hasClass("bs-select-all")?a.selectAll():a.deselectAll(),a.$element.change()}),this.$element.change(function(){a.render(!1)})},liveSearchListener:function(){var b=this,a=h('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){b.$menuInner.find(".active").removeClass("active"),b.$searchbox.val()&&(b.$searchbox.val(""),b.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove()),b.multiple||b.$menuInner.find(".selected").addClass("active"),setTimeout(function(){b.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(c){c.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(b.$searchbox.val()){var d=b.$lis.not(".is-hidden").removeClass("hidden").children("a");d=b.options.liveSearchNormalize?d.not(":a"+b._searchStyle()+"("+g(b.$searchbox.val())+")"):d.not(":"+b._searchStyle()+"("+b.$searchbox.val()+")"),d.parent().addClass("hidden"),b.$lis.filter(".dropdown-header").each(function(){var e=h(this),f=e.data("optgroup");0===b.$lis.filter("[data-optgroup="+f+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),b.$lis.filter("[data-optgroup="+f+"div]").addClass("hidden"))});var c=b.$lis.not(".hidden");c.each(function(e){var f=h(this);f.hasClass("divider")&&(f.index()===c.eq(0).index()||f.index()===c.last().index()||c.eq(e+1).hasClass("divider"))&&f.addClass("hidden")}),b.$lis.not(".hidden, .no-results").length?a.parent().length&&a.remove():(a.parent().length&&a.remove(),a.html(b.options.noneResultsText.replace("{0}",'"'+l(b.$searchbox.val())+'"')).show(),b.$menuInner.append(a))}else{b.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove()}b.$lis.filter(".active").removeClass("active"),b.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),h(this).focus()})},_searchStyle:function(){var b="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":b="ibegins";break;case"contains":}return b},val:function(b){return"undefined"!=typeof b?(this.$element.val(b),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"),this.render(!1)},keydown:function(L){var K,J,I,H,G,F,E,D,C,B=h(this),A=B.is("input")?B.parent().parent():B.parent(),z=A.data("this"),y=":not(.disabled, .hidden, .dropdown-header, .divider)",x={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(z.options.liveSearch&&(A=B.parent().parent()),z.options.container&&(A=z.$menu),K=h("[role=menu] li a",A),C=z.$menu.parent().hasClass("open"),!C&&(L.keyCode>=48&&L.keyCode<=57||event.keyCode>=65&&event.keyCode<=90)&&(z.options.container?z.$newElement.trigger("click"):(z.setSize(),z.$menu.parent().addClass("open"),C=!0),z.$searchbox.focus()),z.options.liveSearch&&(/(^9$|27)/.test(L.keyCode.toString(10))&&C&&0===z.$menu.find(".active").length&&(L.preventDefault(),z.$menu.parent().removeClass("open"),z.options.container&&z.$newElement.removeClass("open"),z.$button.focus()),K=h("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",A),B.val()||/(38|40)/.test(L.keyCode.toString(10))||0===K.filter(".active").length&&(K=z.$newElement.find("li"),K=z.options.liveSearchNormalize?K.filter(":a"+z._searchStyle()+"("+g(x[L.keyCode])+")"):K.filter(":"+z._searchStyle()+"("+x[L.keyCode]+")"))),K.length){if(/(38|40)/.test(L.keyCode.toString(10))){J=K.index(K.filter(":focus")),H=K.parent(y).first().data("originalIndex"),G=K.parent(y).last().data("originalIndex"),I=K.eq(J).parent().nextAll(y).eq(0).data("originalIndex"),F=K.eq(J).parent().prevAll(y).eq(0).data("originalIndex"),E=K.eq(I).parent().prevAll(y).eq(0).data("originalIndex"),z.options.liveSearch&&(K.each(function(c){h(this).hasClass("disabled")||h(this).data("index",c)}),J=K.index(K.filter(".active")),H=K.first().data("index"),G=K.last().data("index"),I=K.eq(J).nextAll().eq(0).data("index"),F=K.eq(J).prevAll().eq(0).data("index"),E=K.eq(I).prevAll().eq(0).data("index")),D=B.data("prevIndex"),38==L.keyCode?(z.options.liveSearch&&(J-=1),J!=E&&J>F&&(J=F),H>J&&(J=H),J==D&&(J=G)):40==L.keyCode&&(z.options.liveSearch&&(J+=1),-1==J&&(J=0),J!=E&&I>J&&(J=I),J>G&&(J=G),J==D&&(J=H)),B.data("prevIndex",J),z.options.liveSearch?(L.preventDefault(),B.hasClass("dropdown-toggle")||(K.removeClass("active").eq(J).addClass("active").children("a").focus(),B.focus())):K.eq(J).focus()}else{if(!B.is("input")){var w,v,b=[];K.each(function(){h(this).parent().hasClass("disabled")||h.trim(h(this).text().toLowerCase()).substring(0,1)==x[L.keyCode]&&b.push(h(this).parent().index())}),w=h(document).data("keycount"),w++,h(document).data("keycount",w),v=h.trim(h(":focus").text().toLowerCase()).substring(0,1),v!=x[L.keyCode]?(w=1,h(document).data("keycount",w)):w>=b.length&&(h(document).data("keycount",0),w>b.length&&(w=1)),K.eq(b[w-1]).focus()}}if((/(13|32)/.test(L.keyCode.toString(10))||/(^9$)/.test(L.keyCode.toString(10))&&z.options.selectOnTab)&&C){if(/(32)/.test(L.keyCode.toString(10))||L.preventDefault(),z.options.liveSearch){/(32)/.test(L.keyCode.toString(10))||(z.$menu.find(".active a").click(),B.focus())}else{var a=h(":focus");a.click(),a.focus(),L.preventDefault(),h(document).data("spaceSelect",!0)}h(document).data("keycount",0)}(/(^9$|27)/.test(L.keyCode.toString(10))&&C&&(z.multiple||z.options.liveSearch)||/(27)/.test(L.keyCode.toString(10))&&!C)&&(z.$menu.parent().removeClass("open"),z.options.container&&z.$newElement.removeClass("open"),z.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var i=h.fn.selectpicker;h.fn.selectpicker=k,h.fn.selectpicker.Constructor=j,h.fn.selectpicker.noConflict=function(){return h.fn.selectpicker=i,this},h(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',j.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(b){b.stopPropagation()}),h(window).on("load.bs.select.data-api",function(){h(".selectpicker").each(function(){var a=h(this);k.call(a,a.data())})})}(jQuery)});